"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

$.mlpFnName = function (fn) {
  return fn.name || (fn + '').split(/\s|\(/)[1];
};

$.mlpInit = function (fn, name, set) {
  if (typeof set == "undefined") {
    set = true;
  }
  window.MLP = window.MLP || {};
  window.MLP.apps = window.MLP.apps || {};
  window.MLP.instances = window.MLP.instances || {};
  window.MLP.config = window.MLP.config || {};
  if (fn && set) {
    name = name || $.mlpFnName(fn);
    window.MLP.apps[name] = fn;
  } else {
    return window.MLP.apps[fn];
  }
};

/***
@fn (obj) - the JS object class
@name (str) - the name of the class
@bypass (bool) - whether or not the module can be instantiated multiple times
@elModule (bool) - whether to create an element based module $(...).ModuleName 
or regular JQuery method $.MethodName
@returnContext (bool) - whether to return an object with class context 
and the element which instantiated the module (@elModule must be true)
**/

$.mlpModule = function (fn, name, bypass, elModule, returnContext) {
  var obj;
  if (typeof bypass == "undefined") {
    bypass = false;
  }
  if (typeof elModule == "undefined") {
    elModule = true;
  }
  if (typeof returnContext == "undefined") {
    returnContext = true;
  }
  obj = {};
  $.mlpInit(fn, name);
  name = name || $.mlpFnName(fn);
  obj[name] = function () {
    var args,
        option,
        _el,
        _this = [],
        result;
    option = arguments[0];
    args = 2 <= arguments.length ? Array.prototype.slice.call(arguments, 1) : [];
    _el = $(this).each(function () {
      var $this, data, key;
      $this = $(this);
      key = 'mlp-' + name;
      data = $this.data(key);
      if (!data || bypass) {
        $this.data('name', name);
        $this.data(key, data = new fn(option, this));
      }
      if (typeof option === 'string') {
        return data[option].apply(data, args);
      }
      _this.push(data);
    });
    result = returnContext ? { mlp: _this, el: _el } : null;
    return result;
  };
  if (elModule) {
    $.fn.extend(obj);
  } else {
    obj[name] = function (option) {
      return new fn(option);
    };
    $.extend(obj);
  }
};

var MLPModule = function () {
  _createClass(MLPModule, [{
    key: "defaults",
    value: function defaults() {
      this.defaults = {};
    }
  }]);

  function MLPModule(options, element) {
    _classCallCheck(this, MLPModule);

    this.ops = $.extend({}, this.defaults, options);
    this.sel = this.sel || {};
    this.el = this.el || {};
    this.el.target = $(element);
    this.init();
    return this;
  }

  _createClass(MLPModule, [{
    key: "init",
    value: function init() {
      this.classes = {
        active: 'is-active',
        offscreen: 'l-offscreen',
        ghost: 'l-ghost'
      };

      this.keys = {
        esc: 27,
        down: 40,
        up: 38,
        left: 37,
        right: 39,
        o: 79,
        space: 32,
        tab: 9,
        enter: 13
      };

      this.aria = {
        expanded: 'aria-expanded',
        hidden: 'aria-hidden',
        controls: 'aria-controls',
        selected: 'aria-selected',
        invalid: 'aria-invalid',
        pressed: 'aria-pressed',
        described: 'aria-describedby',
        checked: 'aria-checked',
        label: 'aria-label',
        labelled: 'aria-labelledby',
        popup: 'aria-haspopup'
      };

      this.attr = {
        tabindex: 'tabindex'
      };
    }
  }, {
    key: "stop",
    value: function stop(e) {
      e.preventDefault();
      return e.stopPropagation();
    }
  }, {
    key: "target",
    value: function target(e) {
      return $(e.target);
    }
  }, {
    key: "currentTarget",
    value: function currentTarget(e) {
      return $(e.currentTarget);
    }
  }, {
    key: "isRight",
    value: function isRight(e) {
      return this.keycode(e) === this.keys.right;
    }
  }, {
    key: "isLeft",
    value: function isLeft(e) {
      return this.keycode(e) === this.keys.left;
    }
  }, {
    key: "isUp",
    value: function isUp(e) {
      return this.keycode(e) === this.keys.up;
    }
  }, {
    key: "isDown",
    value: function isDown(e) {
      return this.keycode(e) === this.keys.down;
    }
  }, {
    key: "isEnter",
    value: function isEnter(e) {
      return this.keycode(e) === this.keys.enter;
    }
  }, {
    key: "isSpace",
    value: function isSpace(e) {
      return this.keycode(e) === this.keys.space;
    }
  }, {
    key: "isTab",
    value: function isTab(e) {
      return this.keycode(e) === this.keys.tab;
    }
  }, {
    key: "isBackTab",
    value: function isBackTab(e) {
      return e.shiftKey && this.isTab(e);
    }
  }, {
    key: "isEsc",
    value: function isEsc(e) {
      return this.keycode(e) === this.keys.esc;
    }
  }, {
    key: "isEnterOrSpace",
    value: function isEnterOrSpace(e) {
      return this.isEnter(e) || this.isSpace(e);
    }
  }, {
    key: "keycode",
    value: function keycode(e) {
      return e.which;
    }
  }, {
    key: "isIE",
    value: function isIE(version) {
      if (typeof version == "undefined") {
        version = 9;
      }
      return bowser.msie && bowser.version === version;
    }
  }]);

  return MLPModule;
}();

$.mlpInit(MLPModule, 'MLPModule');
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Carousel = function (_MLP$apps$MLPModule) {
  _inherits(Carousel, _MLP$apps$MLPModule);

  function Carousel() {
    _classCallCheck(this, Carousel);

    return _possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).apply(this, arguments));
  }

  _createClass(Carousel, [{
    key: 'defaults',
    value: function defaults() {
      this.defaults = {
        property: 'foo'
      };
    }
  }, {
    key: 'init',
    value: function init() {
      var _this2 = this;

      this.el = {
        btnPrev: $('.btn-prev'),
        btnNext: $('.btn-next'),
        slice: $('.slice'),
        topCarousel: $('.top-carousel'),
        dot: $('.dot'),
        homepageCarousel: $('.homepage-carousel'),
        homepage: $('.homepage')
      };
      this.sel = {
        acount: 0,
        animation: false
      };
      this.len = this.el.slice.length - 1;
      _get(Carousel.prototype.__proto__ || Object.getPrototypeOf(Carousel.prototype), 'init', this).call(this);
      this.events();
      this.setCarousel();
      this.animTime;
      this.autoTimer = null;
      this.timer = null;
      this.isMobile = true;
      this.runAgain = null;
      this.runAgain = setTimeout(function () {
        _this2.autoRun();
      }, 2000);

      this.checkMobile();
      this.bindEvents();
      $(window).resize(function () {
        clearTimeout(_this2.animTime);
        _this2.animTime = null;
        _this2.animTime = setTimeout(function () {
          _this2.autoRun();
        }, 2000);

        _this2.setCarousel();
      });
    }
  }, {
    key: 'setCarousel',
    value: function setCarousel() {
      var deviceWidth = $('body').width();
      var parent = deviceWidth * this.el.slice.length;
      this.el.topCarousel.css({ 'width': parent + 'px', 'left': -parseInt(deviceWidth * this.sel.acount) + 'px' });
      this.el.slice.css('width', deviceWidth + 'px');
    }
  }, {
    key: 'events',
    value: function events() {
      this.btnPrevEvents();
      this.btnNextEvents();
    }
  }, {
    key: 'checkMobile',
    value: function checkMobile() {
      if (typeof window.ontouchstart === "undefined") {
        this.isMobile = false;
      }
    }
  }, {
    key: 'optimization',
    value: function optimization() {
      this.el.dot.removeClass('active');
      this.el.dot.eq(this.sel.acount === 3 ? 0 : this.sel.acount).addClass('active');
    }
  }, {
    key: 'btnPrevEvents',
    value: function btnPrevEvents() {
      var _this3 = this;

      this.el.btnPrev.on('click', function () {
        if (!_this3.sel.animation) {
          _this3.sel.animation = true;
          _this3.sel.acount--;
          _this3.animate(_this3.sel.acount);
        }
        /*if(_this.sel.acount===0){
          _this.el.topCarousel.css({'left':'-'+parseInt(deviceWidth * (_this.el.slice.length-1))+'px'},500);
          _this.sel.acount = _this.el.slice.length-1;
        }
        _this.sel.acount--;
        _this.el.topCarousel.animate({'left':"-"+ _this.sel.acount*deviceWidth +'px'},500);*/
        _this3.el.dot.removeClass('active');
        _this3.el.dot.eq(_this3.sel.acount).addClass('active');
      });
    }
  }, {
    key: 'btnNextEvents',
    value: function btnNextEvents() {
      var _this4 = this;

      this.el.btnNext.on('click', function () {
        if (!_this4.sel.animation) {
          _this4.sel.animation = true;
          _this4.sel.acount++;
          _this4.animate(_this4.sel.acount);
        }

        /* if(_this.sel.acount===_this.el.slice.length-1){
           _this.el.topCarousel.css({'left':0});
           _this.sel.acount = 0;
         }
         _this.sel.acount++;
         _this.el.topCarousel.animate({'left':"-"+ _this.sel.acount*deviceWidth +"px"},500);*/

        _this4.optimization();
      });
    }
  }, {
    key: 'autoRun',
    value: function autoRun() {
      var _this5 = this;

      clearTimeout(this.animTime);
      this.animTime = null;
      this.sel.acount++;
      this.animate(this.sel.acount);
      this.animTime = setTimeout(function () {
        _this5.autoRun();
      }, 5000);
      this.optimization();
    }
  }, {
    key: 'animate',
    value: function animate(inx, callback) {
      var _this6 = this;

      var deviceWidth = $('body').width();
      if (inx > this.len) {
        this.el.topCarousel.css('left', 0);
        inx = 1;
      }

      if (inx < 0) {
        this.el.topCarousel.css('left', -parseInt(deviceWidth * this.len) + 'px');
        inx = this.len - 1;
      }

      this.el.topCarousel.animate({ 'left': -parseInt(deviceWidth * inx) + 'px' }, 500, function () {
        _this6.sel.animation = false;
        if (typeof callback === "function") {
          callback();
        }
      });

      this.sel.acount = inx;
    }
  }, {
    key: 'bindEvents',
    value: function bindEvents() {
      var _this7 = this;

      var startX = 0;
      var firstX = 0;
      if (!this.isMobile) {
        this.el.homepageCarousel.on('mouseover', function () {
          clearTimeout(_this7.animTime);
          _this7.animTime = null;
          clearTimeout(_this7.runAgain);
          _this7.runAgain = null;
        });

        this.el.homepageCarousel.on('mouseout', function () {
          clearTimeout(_this7.runAgain);
          _this7.runAgain = null;
          _this7.runAgain = setTimeout(function () {
            _this7.autoRun();
          }, 5000);
        });
      } else {
        this.el.homepageCarousel.on('touchstart', function (e) {
          clearTimeout(_this7.animTime);
          _this7.animTime = null;
          clearTimeout(_this7.runAgain);
          _this7.runAgain = null;
          startX = e.originalEvent.changedTouches[0].clientX;
          firstX = startX;
          _this7.el.topCarousel.stop(true, true);
        });

        this.el.homepageCarousel.on('touchmove', function (e) {
          var nowX = e.originalEvent.changedTouches[0].clientX;
          var moveX = nowX - startX;
          var currentLeft = parseFloat(_this7.el.topCarousel.css("left"));
          var left = currentLeft + moveX;
          if (left >= -(_this7.el.slice.width() * _this7.len) && left <= 0) {
            _this7.el.topCarousel.css('left', left + "px");
            startX = nowX;
          }
        });

        this.el.homepageCarousel.on('touchend', function (e) {
          var nowX = e.originalEvent.changedTouches[0].clientX;
          var move = nowX - firstX;
          if (move > 0) {
            _this7.sel.acount -= 1;
            _this7.animate(_this7.sel.acount, function () {
              _this7.runAgain = null;
              _this7.runAgain = setTimeout(function () {
                _this7.autoRun();
              }, 2000);
            });
            _this7.optimization();
          } else {
            _this7.sel.acount += 1;
            _this7.animate(_this7.sel.acount, function () {
              _this7.runAgain = null;
              _this7.runAgain = setTimeout(function () {
                _this7.autoRun();
              }, 2000);
            });
            _this7.optimization();
          }
        });
      }
    }
  }]);

  return Carousel;
}(MLP.apps.MLPModule);

$.mlpModule(Carousel, 'Carousel');
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CarouselDev = function (_MLP$apps$MLPModule) {
  _inherits(CarouselDev, _MLP$apps$MLPModule);

  function CarouselDev() {
    _classCallCheck(this, CarouselDev);

    return _possibleConstructorReturn(this, (CarouselDev.__proto__ || Object.getPrototypeOf(CarouselDev)).apply(this, arguments));
  }

  _createClass(CarouselDev, [{
    key: 'defaults',
    value: function defaults() {
      this.defaults = {
        property: 'foo'
      };
    }
  }, {
    key: 'init',
    value: function init() {
      var _this2 = this;

      this.el = {
        navElem: $('.nav-elem'),
        cSlice: $('.c-slice'),
        conCarousel: $('.c-carousel__container'),
        cCarousel: $('.c-carousel')
      };
      this.sel = {
        acount: 0,
        animation: false,
        active: 'active'
      };
      this.len = this.el.cSlice.length - 1;
      this.animTime = null;
      _get(CarouselDev.prototype.__proto__ || Object.getPrototypeOf(CarouselDev.prototype), 'init', this).call(this);
      this.events();
      this.isMobile = false;
      this.checkMobile();
      console.log(this.isMobile);
      this.setDevCarousel();
      $(window).resize(function () {
        _this2.setDevCarousel();
      });
      this.bindEvent();
      //runTimer 是为了让第一张slice显示5秒后再执行动画。
      this.runTimer = null;
      /*this.runTimer = setTimeout(() => {
          this.autoRun();
      }, 5000);*/
    }
  }, {
    key: 'events',
    value: function events() {
      this.clickEvent();
    }
  }, {
    key: 'setDevCarousel',
    value: function setDevCarousel() {
      var deviceWidth = $('body').width();
      this.el.cSlice.css('width', parseInt(deviceWidth) + 'px');
      this.el.conCarousel.css('width', parseInt(deviceWidth) * (this.len + 1) + 'px');
    }
  }, {
    key: 'checkMobile',
    value: function checkMobile() {
      if (typeof window.ontouchstart === 'function') {
        this.isMobile = true;
      }
    }
  }, {
    key: 'clickEvent',
    value: function clickEvent() {
      var _this3 = this;

      this.el.navElem.on('click', function (e) {
        var deviceWidth = $('body').width();
        var target = $(e.target);
        var current = target.closest(_this3.el.navElem);

        _this3.sel.acount = current.attr('index');
        _this3.el.conCarousel.animate({ 'left': -parseInt(deviceWidth * _this3.sel.acount) + 'px' }, 500);

        current.siblings().removeClass(_this3.sel.active);
        current.addClass(_this3.sel.active);
      });
    }
  }, {
    key: 'bindEvent',
    value: function bindEvent() {
      var _this4 = this;

      var startX = 0;
      var firstX = 0;
      if (navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)) {
        this.runTimer = setTimeout(function () {
          _this4.autoRun();
        }, 5000);
        this.el.cCarousel.on('touchstart', function (e) {
          clearTimeout(_this4.animTime);
          _this4.animTime = null;
          clearTimeout(_this4.runTimer);
          _this4.runTimer = null;
          startX = e.originalEvent.changedTouches[0].clientX;
          firstX = startX;
          _this4.el.conCarousel.stop(true, true);
        });

        this.el.cCarousel.on('touchmove', function (e) {
          var nowX = e.originalEvent.changedTouches[0].clientX;
          var moveX = nowX - startX;
          var currentLeft = parseFloat(_this4.el.conCarousel.css('left'));
          var left = currentLeft + moveX;
          if (left >= -(_this4.el.cCarousel.width() * _this4.len) && left <= 0) {
            _this4.el.conCarousel.css('left', left + 'px');
            startX = nowX;
          }
        });

        this.el.cCarousel.on('touchend', function (e) {
          var nowX = e.originalEvent.changedTouches[0].clientX;
          var move = nowX - firstX;
          if (move > 0) {
            _this4.sel.acount -= 1;
            _this4.animate(_this4.sel.acount, function () {
              _this4.runTimer = null;
              _this4.runTimer = setTimeout(function () {
                _this4.autoRun();
              });
            });
          } else {
            _this4.sel.acount += 1;
            _this4.animate(_this4.sel.acount, function () {
              _this4.runTimer = null;
              _this4.runTimer = setTimeout(function () {
                _this4.autoRun();
              }, 2000);
            });
          }
        });
      }
    }
  }, {
    key: 'autoRun',
    value: function autoRun() {
      var _this5 = this;

      clearTimeout(this.animTime);
      this.animTime = null;
      this.sel.acount++;
      this.animate(this.sel.acount);
      this.animTime = setTimeout(function () {
        _this5.autoRun();
      }, 5000);
    }
  }, {
    key: 'animate',
    value: function animate(inx, callback) {
      var _this6 = this;

      var deviceWidth = $('body').width();
      if (inx > this.len) {
        this.el.conCarousel.css('left', 0);
        inx = 1;
      }

      if (inx < 0) {
        this.el.conCarousel.css('left', -parseInt(deviceWidth) * this.len + 'px');
        inx = this.len - 1;
      }

      this.el.conCarousel.animate({ 'left': -parseInt(deviceWidth) * inx + 'px' }, 500, function () {
        _this6.sel.animation = false;
        if (typeof callback === 'function') {
          callback();
        }
      });
      this.sel.acount = inx;
    }
  }]);

  return CarouselDev;
}(MLP.apps.MLPModule);

$.mlpModule(CarouselDev, 'CarouselDev');
'use strict';

/*
  Every plugin/module initialization goes here.
 */
$(document).ready(function () {
  $('[data-js-language-global]').Slide();
  $('[data-js-carousel]').Carousel();
  $('[data-js-devcarousel]').CarouselDev();
  $('[data-js-map]').Map();
});
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Map = function (_MLP$apps$MLPModule) {
  _inherits(Map, _MLP$apps$MLPModule);

  function Map() {
    _classCallCheck(this, Map);

    return _possibleConstructorReturn(this, (Map.__proto__ || Object.getPrototypeOf(Map)).apply(this, arguments));
  }

  _createClass(Map, [{
    key: 'defaults',
    value: function defaults() {
      this.defaults = {
        property: 'foo'
      };
    }
  }, {
    key: 'init',
    value: function init() {
      this.el = {
        map: $('#map'),
        item: $('.item'),
        square: $('.square')
      };
      this.sel = {
        sideActive: "side-active",
        locations: [{ lat: -31.563910, lng: 147.154312 }, { lat: -33.718234, lng: 150.363181 }, { lat: -33.727111, lng: 150.371124 }, { lat: -33.848588, lng: 151.209834 }, { lat: -33.851702, lng: 151.216968 }, { lat: -34.671264, lng: 150.863657 }, { lat: -35.304724, lng: 148.662905 }, { lat: -36.817685, lng: 175.699196 }, { lat: -36.828611, lng: 175.790222 }, { lat: -37.750000, lng: 145.116667 }, { lat: -37.759859, lng: 145.128708 }, { lat: -37.765015, lng: 145.133858 }, { lat: -37.770104, lng: 145.143299 }, { lat: -37.773700, lng: 145.145187 }, { lat: -37.774785, lng: 145.137978 }, { lat: -37.819616, lng: 144.968119 }, { lat: -38.330766, lng: 144.695692 }, { lat: -39.927193, lng: 175.053218 }, { lat: -41.330162, lng: 174.865694 }, { lat: -42.734358, lng: 147.439506 }, { lat: -42.734358, lng: 147.501315 }, { lat: -42.735258, lng: 147.438000 }, { lat: -43.999792, lng: 170.463352 }]
      };

      _get(Map.prototype.__proto__ || Object.getPrototypeOf(Map.prototype), 'init', this).call(this);
      this.events();
      emitter.on('initMap', function () {
        var uluru = { lat: -25.363, lng: 131.044 };
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: uluru
        });
        var marker = new google.maps.Marker({
          position: uluru,
          map: map
        });
      });
    }
  }, {
    key: 'events',
    value: function events() {
      this.initSquare();
      this.clickEvents();
    }
  }, {
    key: 'initSquare',
    value: function initSquare() {
      var Obj = {
        "block": [{
          "title": "ASIA PACIFIC",
          "data": [{
            "text": "Braeside (Melbourne), AU",
            "content": [{
              "dataLat": -38.007632,
              "dataLng": 145.107844,
              "dataTitle": "Braeside (Melbourne), AU",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Braeside-Melbourne-AU",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }, {
              "dataLat": -38.007632,
              "dataLng": 145.107844,
              "dataTitle": "Braeside (Melbourne), AU",
              "dataType": "modified",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Braeside-Melbourne-AU",
              "dataId": "modified",
              "dataClass": "square modified"
            }]
          }, {
            "text": "Dee Why (Sydney), AU",
            "content": [{
              "dataLat": -33.7360313,
              "dataLng": 151.2864794,
              "dataTitle": "Dee Why (Sydney), AU",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Dee-Why-Sydney-AU",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "FTZ, Shanghai, China",
            "content": [{
              "dataLat": 31.322701,
              "dataLng": 121.617107,
              "dataTitle": "FTZ, Shanghai, China",
              "dataType": "clinical",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/FTZ-Shanghai-China",
              "dataId": "clinical",
              "dataClass": "square clinical"
            }]
          }, {
            "text": "Haining, China",
            "content": [{
              "dataLat": 30.434628,
              "dataLng": 120.457781,
              "dataTitle": "Haining, China",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Haining-China",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Kakegawa, Japan",
            "content": [{
              "dataLat": 34.812185,
              "dataLng": 138.03568,
              "dataTitle": "Kakegawa, Japan",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Kakegawa-Japan",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }, {
              "dataLat": 34.812185,
              "dataLng": 138.03568,
              "dataTitle": "Kakegawa, Japan",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Kakegawa-Japan",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }, {
              "dataLat": 34.812185,
              "dataLng": 138.03568,
              "dataTitle": "Kakegawa, Japan",
              "dataType": "clinical",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Kakegawa-Japan",
              "dataId": "clinical",
              "dataClass": "square clinical"
            }]
          }, {
            "text": "Shanghai, China",
            "content": [{
              "dataLat": 31.223259,
              "dataLng": 121.447691,
              "dataTitle": "Shanghai, China",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Shanghai-China",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }, {
              "dataLat": 31.223259,
              "dataLng": 121.447691,
              "dataTitle": "Shanghai, China",
              "dataType": "clinical",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Shanghai-China",
              "dataId": "clinical",
              "dataClass": "square clinical"
            }]
          }, {
            "text": "Singapore",
            "content": [{
              "dataLat": 1.285222,
              "dataLng": 103.810185,
              "dataTitle": "Singapore",
              "dataType": "clinical",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Singapore",
              "dataId": "clinical",
              "dataClass": "square clinical"
            }]
          }, {
            "text": "Tokyo, Japan",
            "content": [{
              "dataLat": 35.674768,
              "dataLng": 139.732586,
              "dataTitle": "Tokyo, Japan",
              "dataType": "biologic",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Tokyo-Japan",
              "dataId": "biologic",
              "dataClass": "square biologic"
            }, {
              "dataLat": 35.674768,
              "dataLng": 139.732586,
              "dataTitle": "Tokyo, Japan",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Tokyo-Japan",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }, {
              "dataLat": 35.674768,
              "dataLng": 139.732586,
              "dataTitle": "Tokyo, Japan",
              "dataType": "modified",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/ASIA-PACIFIC/Tokyo-Japan",
              "dataId": "modified",
              "dataClass": "square modified"
            }]
          }]
        }, {
          "title": "EUROPE",
          "data": [{
            "text": "Aprilia (Rome), Italy",
            "content": [{
              "dataLat": 41.756971,
              "dataLng": 12.562866,
              "dataTitle": "Aprilia (Rome), Italy",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Aprilia-Rome-Italy",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Bathgate, Scotland",
            "content": [{
              "dataLat": 55.892388,
              "dataLng": -3.6171739,
              "dataTitle": "Bathgate, Scotland",
              "dataType": "clinical",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Bathgate-Scotland",
              "dataId": "clinical",
              "dataClass": "square clinical"
            }]
          }, {
            "text": "Beinheim, France",
            "content": [{
              "dataLat": 48.859825,
              "dataLng": 8.076652,
              "dataTitle": "Beinheim, France",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Beinheim-France",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Bolton, UK",
            "content": [{
              "dataLat": 53.555999,
              "dataLng": -2.533267,
              "dataTitle": "Bolton, UK",
              "dataType": "clinical",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Bolton-UK",
              "dataId": "clinical",
              "dataClass": "square clinical"
            }]
          }, {
            "text": "Brussels, Belgium",
            "content": [{
              "dataLat": 50.910088,
              "dataLng": 4.397718,
              "dataTitle": "Brussels, Belgium",
              "dataType": "development",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Brussels-Belgium",
              "dataId": "development",
              "dataClass": "square development"
            }, {
              "dataLat": 50.910088,
              "dataLng": 4.397718,
              "dataTitle": "Brussels, Belgium",
              "dataType": "sterile",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Brussels-Belgium",
              "dataId": "sterile",
              "dataClass": "square sterile"
            }]
          }, {
            "text": "Cham, Switzerland",
            "content": [{
              "dataLat": 47.18952,
              "dataLng": 8.475592,
              "dataTitle": "Cham, Switzerland",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Cham-Switzerland",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Dartford, UK",
            "content": [{
              "dataLat": 51.453079,
              "dataLng": 0.262534,
              "dataTitle": "Dartford, UK",
              "dataType": "development",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Dartford-UK",
              "dataId": "development",
              "dataClass": "square development"
            }]
          }, {
            "text": "Eberbach, Germany",
            "content": [{
              "dataLat": 49.46546,
              "dataLng": 8.962496,
              "dataTitle": "Eberbach, Germany",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Eberbach-Germany",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Limoges, France",
            "content": [{
              "dataLat": 45.888813,
              "dataLng": 1.270294,
              "dataTitle": "Limoges, France",
              "dataType": "development",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Limoges-France",
              "dataId": "development",
              "dataClass": "square development"
            }, {
              "dataLat": 45.888813,
              "dataLng": 1.270294,
              "dataTitle": "Limoges, France",
              "dataType": "sterile",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Limoges-France",
              "dataId": "sterile",
              "dataClass": "square sterile"
            }]
          }, {
            "text": "Schorndorf, Germany",
            "content": [{
              "dataLat": 48.809633,
              "dataLng": 9.514461,
              "dataTitle": "Schorndorf, Germany",
              "dataType": "modified",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Schorndorf-Germany",
              "dataId": "modified",
              "dataClass": "square modified"
            }, {
              "dataLat": 48.809633,
              "dataLng": 9.514461,
              "dataTitle": "Schorndorf, Germany",
              "dataType": "clinical",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Schorndorf-Germany",
              "dataId": "clinical",
              "dataClass": "square clinical"
            }]
          }, {
            "text": "nySwindon, UK",
            "content": [{
              "dataLat": 51.545482,
              "dataLng": -1.842542,
              "dataTitle": "Swindon, UK",
              "dataType": "development",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Swindon-UK",
              "dataId": "development",
              "dataClass": "square development"
            }, {
              "dataLat": 51.545482,
              "dataLng": -1.842542,
              "dataTitle": "Swindon, UK",
              "dataType": "modified",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/EUROPE/Swindon-UK",
              "dataId": "modified",
              "dataClass": "square modified"
            }]
          }]
        }, {
          "title": "LATIN AMERICA",
          "data": [{
            "text": "Buenos Aires, Argentina",
            "content": [{
              "dataLat": -34.569681,
              "dataLng": -58.591126,
              "dataTitle": "Buenos Aires, Argentina",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/LATIN-AMERICA/Buenos-Aires-Argentina",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Indaiatuba, Brazil",
            "content": [{
              "dataLat": -23.133794,
              "dataLng": -47.230735,
              "dataTitle": "Indaiatuba, Brazil",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/LATIN-AMERICA/Indaiatuba-Brazil",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Montevideo, Uruguay",
            "content": [{
              "dataLat": -34.903601,
              "dataLng": -56.135804,
              "dataTitle": "Montevideo, Uruguay",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/LATIN-AMERICA/Montevideo-Uruguay",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Sorocaba, Brazil",
            "content": [{
              "dataLat": -23.439782,
              "dataLng": -47.387338,
              "dataTitle": "Sorocaba, Brazil",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/LATIN-AMERICA/Sorocaba-Brazil",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }]
        }, {
          "title": "AMERICA",
          "data": [{
            "text": "Emeryville, CA",
            "content": [{
              "dataLat": 37.838439,
              "dataLng": -122.288869,
              "dataTitle": "Emeryville, CA",
              "dataType": "biologic",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Emeryville-CA",
              "dataId": "biologic",
              "dataClass": "square biologic"
            }]
          }, {
            "text": "Kansas City, MO",
            "content": [{
              "dataLat": 38.939634,
              "dataLng": -94.533186,
              "dataTitle": "Kansas City, MO",
              "dataType": "biologic",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Kansas-City-MO",
              "dataId": "biologic",
              "dataClass": "square biologic"
            }, {
              "dataLat": 38.939634,
              "dataLng": -94.533186,
              "dataTitle": "Kansas City, MO",
              "dataType": "biologic",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Kansas-City-MO",
              "dataId": "biologic",
              "dataClass": "square biologic"
            }, {
              "dataLat": 38.939634,
              "dataLng": -94.533186,
              "dataTitle": "Kansas City, MO",
              "dataType": "clinical",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Kansas-City-MO",
              "dataId": "clinical",
              "dataClass": "square clinical"
            }]
          }, {
            "text": "Madison, WI",
            "content": [{
              "dataLat": 43.077281,
              "dataLng": -89.535443,
              "dataTitle": "Madison, WI",
              "dataType": "biologic",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Madison-WI",
              "dataId": "biologic",
              "dataClass": "square biologic"
            }]
          }, {
            "text": "Malvern, PA",
            "content": [{
              "dataLat": 40.067349,
              "dataLng": -75.560338,
              "dataTitle": "Malvern, PA",
              "dataType": "development",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Malvern-PA",
              "dataId": "development",
              "dataClass": "square development"
            }]
          }, {
            "text": "Morrisville/RTP, NC",
            "content": [{
              "dataLat": 35.833811,
              "dataLng": -78.811435,
              "dataTitle": "Morrisville/RTP, NC",
              "dataType": "biologic",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Morrisville-RTP-NC",
              "dataId": "biologic",
              "dataClass": "square biologic"
            }, {
              "dataLat": 35.833811,
              "dataLng": -78.811435,
              "dataTitle": "Morrisville/RTP, NC",
              "dataType": "development",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Morrisville-RTP-NC",
              "dataId": "development",
              "dataClass": "square development"
            }]
          }, {
            "text": "Philadelphia, PA",
            "content": [{
              "dataLat": 40.086691,
              "dataLng": -74.999696,
              "dataTitle": "Philadelphia, PA",
              "dataType": "clinical",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Philadelphia-PA",
              "dataId": "clinical",
              "dataClass": "square clinical"
            }]
          }, {
            "text": "San Diego, CA",
            "content": [{
              "dataLat": 32.886134,
              "dataLng": -117.164238,
              "dataTitle": "San Diego, CA",
              "dataType": "development",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/San-Diego-CA",
              "dataId": "development",
              "dataClass": "square development"
            }]
          }, {
            "text": "Somerset, NJ, HQ",
            "content": [{
              "dataLat": 40.528871,
              "dataLng": -74.548494,
              "dataTitle": "Somerset, NJ, HQ",
              "dataType": "development",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Somerset-NJ-HQ",
              "dataId": "development",
              "dataClass": "square development"
            }, {
              "dataLat": 40.528871,
              "dataLng": -74.548494,
              "dataTitle": "Somerset, NJ, HQ",
              "dataType": "modified",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Somerset-NJ-HQ",
              "dataId": "modified",
              "dataClass": "square modified"
            }]
          }, {
            "text": "St. Petersburg, FL",
            "content": [{
              "dataLat": 27.887412,
              "dataLng": -82.673206,
              "dataTitle": "St. Petersburg, FL",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/St.-Petersburg-FL",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Strathroy, Ontario, Canada",
            "content": [{
              "dataLat": 42.986365,
              "dataLng": -81.625694,
              "dataTitle": "Strathroy, Ontario, Canada",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Strathroy-Ontario-Canada",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Winchester, KY",
            "content": [{
              "dataLat": 38.016574,
              "dataLng": -84.179925,
              "dataTitle": "Winchester, KY",
              "dataType": "modified",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Winchester-KY",
              "dataId": "modified",
              "dataClass": "square modified"
            }]
          }, {
            "text": "Windsor, Ontario, Canada",
            "content": [{
              "dataLat": 42.276625,
              "dataLng": -83.053937,
              "dataTitle": "Windsor, Ontario, Canada",
              "dataType": "softgel",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Windsor-Ontario-Canada",
              "dataId": "softgel",
              "dataClass": "square softgel"
            }]
          }, {
            "text": "Woodstock, IL",
            "content": [{
              "dataLat": 42.285588,
              "dataLng": -88.409724,
              "dataTitle": "Woodstock, IL",
              "dataType": "sterile",
              "dataUrl": "http://www.catalent.com/index.php/about-us/Our-Locations/NORTH-AMERICA/Woodstock-IL",
              "dataId": "sterile",
              "dataClass": "square sterile"
            }]
          }]
        }]
      };
      var addressList = $('.address-list');
      for (var i = 0, len = Obj.block.length; i < len; i++) {
        addressList.append('<div class="address-list-block"><h3>' + Obj.block[i].title + '</h3></div>');
        var addressListBlock = $('.address-list-block');
        var str = '';
        for (var j = 0, lens = Obj.block[i].data.length; j < lens; j++) {
          var squareItem = '';
          for (var k = 0, lenss = Obj.block[i].data[j].content.length; k < lenss; k++) {
            squareItem += '<span data-id="' + Obj.block[i].data[j].content[k].dataId + '" data-lat="' + Obj.block[i].data[j].content[k].dataLat + '" data-lng="' + Obj.block[i].data[j].content[k].dataLng + '" data-title="' + Obj.block[i].data[j].content[k].dataTitle + '" data-type="' + Obj.block[i].data[j].content[k].dataType + '" data-url="' + Obj.block[i].data[j].content[k].dataUrl + '" class="' + Obj.block[i].data[j].content[k].dataClass + '"></span>';
          }
          str += '<p><a href="#">' + Obj.block[i].data[j].text + '</a>' + squareItem + '</p>';
        }
        addressListBlock.eq(i).append(str);
      }
    }
  }, {
    key: 'clickEvents',
    value: function clickEvents() {
      this.el.item.on('click', function (e) {
        var target = $(e.target);
        var id = target.attr('data-id');
        $(this).siblings().addClass('disabled');
        $(this).removeClass('disabled');
        $('.square').addClass('disabled');
        $('.square[data-id=' + id + ']').removeClass('disabled');
        if ($(this).hasClass('viewAll')) {
          $(this).siblings().removeClass('disabled');
          $('.square').removeClass('disabled');
        }
      });
    }
  }]);

  return Map;
}(MLP.apps.MLPModule);

$.mlpModule(Map, 'Map');
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Slide = function (_MLP$apps$MLPModule) {
  _inherits(Slide, _MLP$apps$MLPModule);

  function Slide() {
    _classCallCheck(this, Slide);

    return _possibleConstructorReturn(this, (Slide.__proto__ || Object.getPrototypeOf(Slide)).apply(this, arguments));
  }

  _createClass(Slide, [{
    key: 'defaults',
    value: function defaults() {
      this.defaults = {
        property: 'foo'
      };
    }
  }, {
    key: 'init',
    value: function init() {
      this.el = {
        languageGlobal: $('#language-global'),
        languageDiv: $('#language-div'),
        langClose: $('.lang-close'),
        dropDown: $('.drop-down'),
        arrowDown: $('.arrow-down'),
        sidebarDisplay: $('.sidebar-display'),
        navbarMobile: $('.navbar-mobile'),
        sidebarSearch: $('.sidebar-search'),
        form: $('.form'),
        searchText: $('.SearchText'),
        dropDownMobile: $('.drop-down-mobile'),
        navMenuMobile: $('.nav-menu-mobile'),
        catalent: $('.catalent'),
        homepage: $('.homepage'),
        development: $('.development')
      };
      this.sel = {
        sideActive: "side-active",
        active: "active-l-80",
        activedb: "active-d-b",
        sidebarSearchChangebg: "sidebar-search-changebg"
      };
      _get(Slide.prototype.__proto__ || Object.getPrototypeOf(Slide.prototype), 'init', this).call(this);
      this.events();
    }
  }, {
    key: 'events',
    value: function events() {
      this.languageEvents();
      this.dropDownEvents();
      this.bodyEvents();
      this.navbarEvents();
    }
  }, {
    key: 'languageEvents',
    value: function languageEvents() {
      var _this3 = this;

      this.el.languageGlobal.click(function () {
        return _this3.el.languageDiv.toggle(500);
      });
      this.el.langClose.click(function () {
        return _this3.el.languageDiv.hide(500);
      });
    }
  }, {
    key: 'dropDownEvents',
    value: function dropDownEvents() {
      var _this = this;
      this.el.arrowDown.click(function () {
        $(this).next().show(500);
        $(this).parent().siblings().find(_this.el.dropDown).hide(500);
      });
    }
  }, {
    key: 'bodyEvents',
    value: function bodyEvents() {
      var dropDown = $('.drop-down');
      $('body').on('click', function (e) {
        var target = $(e.target);
        var dropDownEle = target.closest('.drop-down');
        var arrowDown = target.closest('.arrow-down');
        if (!dropDownEle.length && !arrowDown.length) {
          dropDown.hide(500);
        }
      });
    }
  }, {
    key: 'navbarEvents',
    value: function navbarEvents() {
      var _this4 = this;

      var _this = this;
      this.el.sidebarDisplay.on("click", function () {
        _this4.el.catalent.toggleClass(_this4.sel.sideActive);
        _this4.el.navbarMobile.toggleClass(_this4.sel.active);
        _this4.el.homepage.toggleClass(_this4.sel.active);
        _this4.el.development.toggleClass(_this4.sel.active);
      });

      this.el.sidebarSearch.on("click", function () {
        $(_this4).toggleClass(_this4.sel.sidebarSearchChangebg);
        _this4.el.form.toggleClass(_this4.sel.activedb);
        _this4.el.searchText.focus();
      });

      $('.nav-menu-mobile a').each(function () {
        var _this5 = this;

        if ($(this).next(_this.el.dropDownMobile).length) {
          $(this).on('click', function (e) {
            e.stopPropagation();
            e.preventDefault();
            $(_this5).next(_this.el.dropDownMobile).toggle(300);
          });
        }
      });
    }
  }]);

  return Slide;
}(MLP.apps.MLPModule);

$.mlpModule(Slide, 'Slide');